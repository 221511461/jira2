<html>
<head>
  <meta charset="utf-8" />
  <meta http-equiv="X-UA-Compatible" content="IE=edge" />
  <meta name="ap-local-base-url" content="{{localBaseUrl}}" />
  <title>{{title}}</title>
  <link
    rel="stylesheet"
    href="/public/aui/aui-prototyping.css"
    integrity="DTM1Q+8lU7SzJT+FWr0JFisCSZlwfM0GiAKYy7h1s9vIKa/CIh37s9NuOCqIOgK4tmqrjLK4NuWuIPUQNsikHA=="
    crossorigin="anonymous"
    referrerpolicy="no-referrer"
  />
  <link rel="stylesheet" href="/public/primer/build.css" media="all" />
  <link rel="stylesheet" href="/public/css/github-create-branch.css" media="all" />
  <link rel="stylesheet" href="/public/css/global.css" media="all" />
  <script src="/public/js/jquery.min.js" nonce="{{nonce}}"></script>
</head>

<body>
<input type="hidden" id="_csrf" name="_csrf" value="{{csrfToken}}" />
<input type="hidden" id="jiraHost" name="jiraHost" value="{{jiraHost}}" />

<section class="gitHubCreateBranch">
  <div class="headerImage">
    <img src="/public/assets/jira-and-github.png" alt="Jira and GitHub logos" />
  </div>
  <div class="gitHubCreateBranch__title">
    <div class="gitHubCreateBranch__header">Create GitHub Branch</div>
    <div class="gitHubCreateBranch__subHeader">
      Creating a branch for
      <!--TODO: Need to add icons based on the type of issue(story/task/bug), ARC-1598 -->
      <a href="#">KEY-1</a>
    </div>
  </div>

  <form id="createBranchForm" class="aui top-label">
    <!--TODO: Add condition to display this only for GHES -->
    <div class="field-group">
      <aui-label for="server">GitHub Enterprise Server instance</aui-label>
      <select id="ghServers" name="server" class="full-width-field" placeholder="Select a repository">
        {{#each servers}}
          <option value="{{id}}">{{server}} / {{appName}}</option>
        {{/each}}
      </select>
    </div>
    <div class="field-group">
      <aui-label for="repo">Repository</aui-label>
      <select id="ghRepo" name="repo" class="full-width-field" placeholder="Select a repository">
        {{#each repos}}
          <option value="{{node.full_name}}">{{node.full_name}}</option>
        {{/each}}
      </select>
    </div>
    <div class="field-group">
      <aui-label for="branch">Branch from</aui-label>
      <select id="ghParentBranch" name="parentBranch" class="full-width-field" placeholder="Select a branch">
        {{#each branches}}
          <option value="{{id}}">{{name}}</option>
        {{/each}}
      </select>
    </div>
    <div class="field-group">
      <aui-label for="branch-name">Branch name</aui-label>
      <input class="text full-width-field" type="text" data-aui-validation-field required name="branch-name"
             placeholder="Enter branch name"/>
    </div>

    <div class="gitHubCreateBranch__actions">
      <button class="aui-button aui-button-light" id="cancelBtn">Cancel</button>
      <button class="aui-button aui-button-primary">Create branch</button>
    </div>
  </form>
</section>

<script src="https://connect-cdn.atl-paas.net/all.js" nonce="{{nonce}}"></script>
<script
  src="/public/aui/aui-prototyping.js"
  integrity="sha512-DkENIkhNP5r+sfHUC5hhFAzApGNR5HTu1fzymBBhXZma4zytOUQh8qhz5xc3nSbSQfdYI6qdI281YwUNmubEMw=="
  crossorigin="anonymous"
  referrerpolicy="no-referrer"
  nonce="{{nonce}}"
></script>
<script src="/public/js/github-create-branch.js" nonce="{{nonce}}"></script>
<script src="/public/js/navigation.js" nonce="{{nonce}}"></script>
</body>

</html>
